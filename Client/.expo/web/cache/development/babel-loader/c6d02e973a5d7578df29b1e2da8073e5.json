{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nexport var GETALL_COURSES = \"GETALL_COURSES\";\nexport var CREATE_FOOD = \"CREATE_FOOD\";\nexport var UPDATE_FOOD = 'UPDATE_FOOD';\nexport var DELETE_FOOD = 'DELETE_FOOD';\nexport var getAllCourses = function getAllCourses(courses) {\n  return {\n    type: GETALL_COURSES,\n    payload: courses\n  };\n};\nexport var createFood = function createFood(food) {\n  return {\n    type: CREATE_FOOD,\n    payload: food\n  };\n};\nexport var updateFood = function updateFood(food) {\n  return {\n    type: UPDATE_FOOD,\n    payload: food\n  };\n};\nexport var deleteFood = function deleteFood(docId) {\n  return {\n    type: DELETE_FOOD,\n    payload: {\n      docId: docId\n    }\n  };\n};\nexport var fetchAllCourses = function fetchAllCourses() {\n  return function (dispatch) {\n    var getData = function () {\n      var _ref = _asyncToGenerator(function* () {\n        try {\n          var response = yield fetch(\"http://localhost:5555/api/courses\");\n          var courses = yield response.json();\n          console.log(\"here\", courses);\n          dispatch(getAllCourses(courses));\n        } catch (err) {\n          console.log(err);\n        }\n      });\n\n      return function getData() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    getData();\n  };\n};\nexport var postFood = function postFood(food) {\n  return function (dispatch) {\n    var postData = function () {\n      var _ref2 = _asyncToGenerator(function* () {\n        try {\n          yield fetch(\"http://localhost:5555/item\", {\n            method: \"POST\",\n            headers: {\n              Accept: \"application/json\",\n              \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(food)\n          });\n        } catch (err) {\n          console.log(err);\n        }\n      });\n\n      return function postData() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    postData();\n    dispatch(createFood(food));\n  };\n};\nexport var update = function update(docId, food) {\n  return function (dispatch) {\n    var updateData = function () {\n      var _ref3 = _asyncToGenerator(function* () {\n        try {\n          yield fetch(\"http://localhost:5555/update/\" + docId, {\n            method: \"PUT\",\n            headers: {\n              Accept: \"application/json\",\n              \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(food)\n          });\n        } catch (err) {\n          console.log(err);\n        }\n      });\n\n      return function updateData() {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n\n    updateData();\n    dispatch(updateFood(food));\n  };\n};\nexport var deleteF = function deleteF(docId) {\n  return function (dispatch) {\n    var deleteData = function () {\n      var _ref4 = _asyncToGenerator(function* () {\n        try {\n          yield fetch(\"http://localhost:5555/del/\" + docId, {\n            method: \"DELETE\"\n          });\n        } catch (err) {\n          console.log(err);\n        }\n      });\n\n      return function deleteData() {\n        return _ref4.apply(this, arguments);\n      };\n    }();\n\n    deleteData();\n    dispatch(deleteFood(docId));\n  };\n};","map":{"version":3,"names":["GETALL_COURSES","CREATE_FOOD","UPDATE_FOOD","DELETE_FOOD","getAllCourses","courses","type","payload","createFood","food","updateFood","deleteFood","docId","fetchAllCourses","dispatch","getData","response","fetch","json","console","log","err","postFood","postData","method","headers","Accept","body","JSON","stringify","update","updateData","deleteF","deleteData"],"sources":["C:/Users/ASUS/OneDrive/Máy tính/thien/Assignment3/Client/Redux/Actions/coursesAction.js"],"sourcesContent":["export const GETALL_COURSES = \"GETALL_COURSES\";\r\nexport const CREATE_FOOD = \"CREATE_FOOD\";\r\nexport const UPDATE_FOOD ='UPDATE_FOOD'\r\nexport const DELETE_FOOD ='DELETE_FOOD'\r\n\r\nexport const getAllCourses = (courses) => {\r\n  return {\r\n    type: GETALL_COURSES,\r\n    payload: courses,\r\n  };\r\n};\r\nexport const createFood = (food) => {\r\n  return {\r\n    type: CREATE_FOOD,\r\n    payload: food,\r\n  };\r\n};\r\nexport const updateFood = (food) => {\r\n  return {\r\n    type: UPDATE_FOOD,\r\n    payload: food,\r\n  };\r\n};\r\nexport const deleteFood = (docId) => {\r\n  return {\r\n    type: DELETE_FOOD,\r\n    payload: { docId },\r\n  };\r\n};\r\n//action-thunk\r\nexport const fetchAllCourses = () => {\r\n  return (dispatch) => {\r\n    const getData = async () => {\r\n      try {\r\n        const response = await fetch(\"http://localhost:5555/api/courses\");\r\n        const courses = await response.json();\r\n        console.log(\"here\", courses);\r\n        dispatch(getAllCourses(courses));\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    getData();\r\n  };\r\n};\r\nexport const postFood = (food) => {\r\n  return (dispatch) => {\r\n    const postData = async () => {\r\n      try {\r\n        await fetch(\"http://localhost:5555/item\", {\r\n          method: \"POST\",\r\n          headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          body: JSON.stringify(food),\r\n        });\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    postData();\r\n    dispatch(createFood(food));\r\n  };\r\n};\r\nexport const update = (docId, food) => {\r\n  return (dispatch) => {\r\n    const updateData = async () => {\r\n      try {\r\n        await fetch(`http://localhost:5555/update/${docId}`, {\r\n          method: \"PUT\",\r\n          headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          body: JSON.stringify(food),\r\n        });\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    updateData();\r\n    dispatch(updateFood(food));\r\n  };\r\n};\r\nexport const deleteF = (docId) => {\r\n  return (dispatch) => {\r\n    const deleteData = async () => {\r\n      try {\r\n        await fetch(`http://localhost:5555/del/${docId}`, {\r\n          method: \"DELETE\",\r\n        });\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    deleteData();\r\n    dispatch(deleteFood(docId));\r\n  };\r\n};\r\n\r\n"],"mappings":";AAAA,OAAO,IAAMA,cAAc,GAAG,gBAAvB;AACP,OAAO,IAAMC,WAAW,GAAG,aAApB;AACP,OAAO,IAAMC,WAAW,GAAE,aAAnB;AACP,OAAO,IAAMC,WAAW,GAAE,aAAnB;AAEP,OAAO,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACC,OAAD,EAAa;EACxC,OAAO;IACLC,IAAI,EAAEN,cADD;IAELO,OAAO,EAAEF;EAFJ,CAAP;AAID,CALM;AAMP,OAAO,IAAMG,UAAU,GAAG,SAAbA,UAAa,CAACC,IAAD,EAAU;EAClC,OAAO;IACLH,IAAI,EAAEL,WADD;IAELM,OAAO,EAAEE;EAFJ,CAAP;AAID,CALM;AAMP,OAAO,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAACD,IAAD,EAAU;EAClC,OAAO;IACLH,IAAI,EAAEJ,WADD;IAELK,OAAO,EAAEE;EAFJ,CAAP;AAID,CALM;AAMP,OAAO,IAAME,UAAU,GAAG,SAAbA,UAAa,CAACC,KAAD,EAAW;EACnC,OAAO;IACLN,IAAI,EAAEH,WADD;IAELI,OAAO,EAAE;MAAEK,KAAK,EAALA;IAAF;EAFJ,CAAP;AAID,CALM;AAOP,OAAO,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,GAAM;EACnC,OAAO,UAACC,QAAD,EAAc;IACnB,IAAMC,OAAO;MAAA,6BAAG,aAAY;QAC1B,IAAI;UACF,IAAMC,QAAQ,SAASC,KAAK,CAAC,mCAAD,CAA5B;UACA,IAAMZ,OAAO,SAASW,QAAQ,CAACE,IAAT,EAAtB;UACAC,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBf,OAApB;UACAS,QAAQ,CAACV,aAAa,CAACC,OAAD,CAAd,CAAR;QACD,CALD,CAKE,OAAOgB,GAAP,EAAY;UACZF,OAAO,CAACC,GAAR,CAAYC,GAAZ;QACD;MACF,CATY;;MAAA,gBAAPN,OAAO;QAAA;MAAA;IAAA,GAAb;;IAUAA,OAAO;EACR,CAZD;AAaD,CAdM;AAeP,OAAO,IAAMO,QAAQ,GAAG,SAAXA,QAAW,CAACb,IAAD,EAAU;EAChC,OAAO,UAACK,QAAD,EAAc;IACnB,IAAMS,QAAQ;MAAA,8BAAG,aAAY;QAC3B,IAAI;UACF,MAAMN,KAAK,CAAC,4BAAD,EAA+B;YACxCO,MAAM,EAAE,MADgC;YAExCC,OAAO,EAAE;cACPC,MAAM,EAAE,kBADD;cAEP,gBAAgB;YAFT,CAF+B;YAMxCC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAepB,IAAf;UANkC,CAA/B,CAAX;QAQD,CATD,CASE,OAAOY,GAAP,EAAY;UACZF,OAAO,CAACC,GAAR,CAAYC,GAAZ;QACD;MACF,CAba;;MAAA,gBAARE,QAAQ;QAAA;MAAA;IAAA,GAAd;;IAcAA,QAAQ;IACRT,QAAQ,CAACN,UAAU,CAACC,IAAD,CAAX,CAAR;EACD,CAjBD;AAkBD,CAnBM;AAoBP,OAAO,IAAMqB,MAAM,GAAG,SAATA,MAAS,CAAClB,KAAD,EAAQH,IAAR,EAAiB;EACrC,OAAO,UAACK,QAAD,EAAc;IACnB,IAAMiB,UAAU;MAAA,8BAAG,aAAY;QAC7B,IAAI;UACF,MAAMd,KAAK,mCAAiCL,KAAjC,EAA0C;YACnDY,MAAM,EAAE,KAD2C;YAEnDC,OAAO,EAAE;cACPC,MAAM,EAAE,kBADD;cAEP,gBAAgB;YAFT,CAF0C;YAMnDC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAepB,IAAf;UAN6C,CAA1C,CAAX;QAQD,CATD,CASE,OAAOY,GAAP,EAAY;UACZF,OAAO,CAACC,GAAR,CAAYC,GAAZ;QACD;MACF,CAbe;;MAAA,gBAAVU,UAAU;QAAA;MAAA;IAAA,GAAhB;;IAcAA,UAAU;IACVjB,QAAQ,CAACJ,UAAU,CAACD,IAAD,CAAX,CAAR;EACD,CAjBD;AAkBD,CAnBM;AAoBP,OAAO,IAAMuB,OAAO,GAAG,SAAVA,OAAU,CAACpB,KAAD,EAAW;EAChC,OAAO,UAACE,QAAD,EAAc;IACnB,IAAMmB,UAAU;MAAA,8BAAG,aAAY;QAC7B,IAAI;UACF,MAAMhB,KAAK,gCAA8BL,KAA9B,EAAuC;YAChDY,MAAM,EAAE;UADwC,CAAvC,CAAX;QAGD,CAJD,CAIE,OAAOH,GAAP,EAAY;UACZF,OAAO,CAACC,GAAR,CAAYC,GAAZ;QACD;MACF,CARe;;MAAA,gBAAVY,UAAU;QAAA;MAAA;IAAA,GAAhB;;IASAA,UAAU;IACVnB,QAAQ,CAACH,UAAU,CAACC,KAAD,CAAX,CAAR;EACD,CAZD;AAaD,CAdM"},"metadata":{},"sourceType":"module"}